"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=require("tslib"),discord_js_1=require("discord.js"),generateShipImage_1=tslib_1.__importDefault(require("../../helpers/images/generateShipImage")),Command_1=require("../../structures/Command"),replaceAll_1=tslib_1.__importDefault(require("../../helpers/replaceAll"));function ship(){const e=Math.floor(110*Math.random())+0,i=e/10;return`${"ðŸŸ¥".repeat(i)}${"â¬›".repeat(11-i)} ${e}%`}exports.default=new Command_1.Command({name:"ship",description:"Find out how much 2 people love each other",options:[{name:"one",description:"The first user",type:discord_js_1.ApplicationCommandOptionType.User,required:!0},{name:"two",description:"The second user",type:discord_js_1.ApplicationCommandOptionType.User,required:!1}],run:({interaction:e,client:i})=>tslib_1.__awaiter(void 0,void 0,void 0,(function*(){const t=e.options.getUser("one"),r=e.options.getUser("two")||e.user;if(t.id===r.id)return e.reply({embeds:[(0,replaceAll_1.default)(i.messages.Embeds.ShipWrongMentionEmbed)]});const s={extension:"png",size:512},o=yield(0,generateShipImage_1.default)(t.displayAvatarURL(s),r.displayAvatarURL(s)),a=new discord_js_1.AttachmentBuilder(o,{name:"ship.png"});e.reply({files:[a],embeds:[(0,replaceAll_1.default)(i.messages.Embeds.ShipCorrectEmbed,{"{image}":"attachment://ship.png","{user1-tag}":t.tag,"{user2-tag}":r.tag,"{user1-id}":t.id,"{user2-id}":r.id,"{ship}":ship()})]})}))});