"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=require("tslib"),discord_js_1=require("discord.js"),Command_1=require("../../structures/Command"),replaceAll_1=tslib_1.__importDefault(require("../../helpers/replaceAll")),FormatStatus={desktop:"ðŸ’»",mobile:"ðŸ“±",web:"ðŸŒŽ"};exports.default=new Command_1.Command({name:"userinfo",description:"Shows information about a member",options:[{name:"user",description:"The user to get the avatar of",type:discord_js_1.ApplicationCommandOptionType.User}],run:({interaction:e,client:s})=>tslib_1.__awaiter(void 0,void 0,void 0,(function*(){var r,t;const i=(null===(r=e.options.getUser("user"))||void 0===r?void 0:r.id)||e.user.id,o=yield e.guild.members.fetch({withPresences:!0,user:i}),a=Object.keys((null===(t=o.presence)||void 0===t?void 0:t.clientStatus)||{}).map((e=>FormatStatus[e])).join(" ");e.reply({embeds:[(0,replaceAll_1.default)(s.messages.Embeds.UserInfoEmbed,{"{createdTimestamp}":Math.floor(o.user.createdTimestamp/1e3),"{user-roles}":o.roles.cache.map((e=>e.toString())).join(" "),"{joinedTimestamp}":Math.floor(o.joinedTimestamp/1e3),"{user-avatar}":o.user.displayAvatarURL({size:4096}),"{user-platforms}":a||"**Offline**","{highestRole}":o.roles.highest.id,"{user-name}":o.user.username,"{user-tag}":o.user.tag,"{user-id}":o.id})]})}))});