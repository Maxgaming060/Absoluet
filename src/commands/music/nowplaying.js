"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=require("tslib"),Command_1=require("../../structures/Command"),replaceAll_1=tslib_1.__importDefault(require("../../helpers/replaceAll"));exports.default=new Command_1.Command({name:"nowplaying",description:"Get the current song",run:({client:e,interaction:l})=>tslib_1.__awaiter(void 0,void 0,void 0,(function*(){var r;const t=e.distube.getQueue(l.guildId);if(!(null===(r=null==t?void 0:t.songs)||void 0===r?void 0:r.length))return l.reply({embeds:[(0,replaceAll_1.default)(e.messages.Embeds.MusicNoSongEmbed)]});const u=t.songs[0],s=t.paused?"ðŸ”´":"ðŸŸ¢",a=Math.floor(t.currentTime/u.duration*30);l.reply({embeds:[(0,replaceAll_1.default)(e.messages.Embeds.MusicNowPlayingEmbed,{"{name}":u.name,"{url}":u.url,"{thumbnail}":u.thumbnail,"{volume}":t.volume,"{queue}":t.songs.length,"{user-tag}":u.user.tag,"{uploader-name}":u.uploader.name,"{uploader-url}":u.uploader.url,"{likes}":u.likes,"{views}":u.views,"{emoji}":s,"{duration}":"â”€".repeat(a)+"ðŸ”˜"+"â”€".repeat(30-a)})]})}))});