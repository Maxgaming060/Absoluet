"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=require("tslib"),discord_js_1=require("discord.js"),Command_1=require("../../structures/Command"),TicketModel_1=tslib_1.__importDefault(require("../../models/TicketModel")),replaceAll_1=tslib_1.__importDefault(require("../../helpers/replaceAll"));exports.default=new Command_1.Command({name:"rename",description:"Rename a ticket channel.",options:[{name:"name",description:"The new name of the ticket channel.",type:discord_js_1.ApplicationCommandOptionType.String,required:!0}],run:({client:e,interaction:n})=>tslib_1.__awaiter(void 0,void 0,void 0,(function*(){if(n.channel.type!==discord_js_1.ChannelType.GuildText)return;const i=n.options.getString("name"),t=yield TicketModel_1.default.findOne({guildId:n.guildId,channelId:n.channelId});return t?(yield n.channel.edit({name:i}),t.channelName=i,yield t.save(),n.reply({embeds:[(0,replaceAll_1.default)(e.messages.Embeds.TicketChannelRenamed,{"{name}":i})]})):n.reply({embeds:[(0,replaceAll_1.default)(e.messages.Embeds.ChannelIsNotATicketEmbed)]})}))});