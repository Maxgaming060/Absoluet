"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=require("tslib"),discord_js_1=require("discord.js"),Command_1=require("../../structures/Command"),replaceAll_1=tslib_1.__importDefault(require("../../helpers/replaceAll")),parseStyle_1=tslib_1.__importDefault(require("../../helpers/parseStyle")),querys_1=require("../../helpers/querys");exports.default=new Command_1.Command({name:"verify",description:"Send the verification embed",options:[{name:"channel",description:"The channel to send the embed in",type:discord_js_1.ApplicationCommandOptionType.Channel,required:!1}],run:({interaction:e,client:i})=>tslib_1.__awaiter(void 0,void 0,void 0,(function*(){var t;const s=e.options.getChannel("channel")||e.channel;yield e.deferReply({ephemeral:!0});const n=yield(0,querys_1.guilds)().get(e.guildId);return(null===(t=null==n?void 0:n.verifySettings)||void 0===t?void 0:t.roleId)?(yield s.send({embeds:[(0,replaceAll_1.default)(i.messages.Embeds.VerificationMainEmbed,{"{guild-name}":e.guild.name})],components:[(new discord_js_1.ActionRowBuilder).addComponents((new discord_js_1.ButtonBuilder).setCustomId("verify").setEmoji(i.messages.Buttons.Verification.Emoji).setStyle((0,parseStyle_1.default)(i.messages.Buttons.Verification.Style)).setLabel(i.messages.Buttons.Verification.Label))]}),e.followUp({embeds:[(new discord_js_1.EmbedBuilder).setTitle("The verify panel has been sent to the channel").setColor(i.config.GeneralSettings.EmbedColor)]})):e.followUp({embeds:[(new discord_js_1.EmbedBuilder).setTitle("You need configure the role id using /setup").setColor("Red")]})}))});