"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=require("tslib"),discord_js_1=require("discord.js"),Command_1=require("../../structures/Command"),replaceAll_1=tslib_1.__importDefault(require("../../helpers/replaceAll"));exports.default=new Command_1.Command({name:"addemoji",description:"Adds an emoji to the server",options:[{name:"emoji",description:"The emoji you want to add",type:discord_js_1.ApplicationCommandOptionType.String,required:!0},{name:"name",description:"The name of the emoji",type:discord_js_1.ApplicationCommandOptionType.String}],run:({client:e,interaction:i})=>tslib_1.__awaiter(void 0,void 0,void 0,(function*(){const t=i.options.getString("name"),r=i.options.getString("emoji"),o=(0,discord_js_1.parseEmoji)(r);if(!(null==o?void 0:o.id))return i.reply({embeds:[(0,replaceAll_1.default)(e.messages.Embeds.InvalidEmoji)]});const s=o.animated?".gif":".png",d=`https://cdn.discordapp.com/emojis/${o.id}${s}`;try{return yield i.guild.emojis.create({name:t||o.name,attachment:d}),i.reply({embeds:[(0,replaceAll_1.default)(e.messages.Embeds.EmojiCreated)]})}catch(t){return i.reply({embeds:[(0,replaceAll_1.default)(e.messages.Embeds.EmojiCreatingError,{"{error}":t})]})}}))});
