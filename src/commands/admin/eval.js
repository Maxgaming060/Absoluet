"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=require("tslib"),Command_1=require("../../structures/Command"),discord_js_1=require("discord.js");exports.default=new Command_1.Command({name:"eval",description:"Execute a code using the discord bot",run:({interaction:interaction,client:client})=>tslib_1.__awaiter(void 0,void 0,void 0,(function*(){yield interaction.reply({embeds:[(new discord_js_1.EmbedBuilder).setTitle("Send the code that you need execute").setColor("Orange")]});const collector=interaction.channel.createMessageCollector({filter:e=>e.author.id===interaction.user.id,max:1});collector.on("collect",(message=>tslib_1.__awaiter(void 0,void 0,void 0,(function*(){try{yield message.delete().catch((e=>e));const output=eval(message.content);yield interaction.editReply({embeds:[(new discord_js_1.EmbedBuilder).setTitle("💻 Discord Terminal").addFields({name:"📥 • Input",value:"```"+message.content+"```"},{name:"📤 • Output",value:"```js\n"+output+"```"},{name:"🛠️ • Type",value:"```js\n"+(typeof output||"Unknown")+"```"}).setColor("Green")]})}catch(e){return client.logger.error(e),void interaction.editReply({embeds:[(new discord_js_1.EmbedBuilder).setTitle(e||"An error has occurred, check the console").setColor("Red")]})}}))))}))});