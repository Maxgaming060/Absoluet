"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=require("tslib"),discord_js_1=require("discord.js");function paginationEmbed({interaction:e,embeds:t,time:s,type:o="reply",ephemeral:d=!1}){return tslib_1.__awaiter(this,void 0,void 0,(function*(){let i=0;if(!t.length)return e[o]({embeds:[(new discord_js_1.EmbedBuilder).setTitle("I have not received any embed to show you...").setColor("Red")],ephemeral:d});if(1===t.length)return yield e[o]({embeds:t,ephemeral:d});const r=(yield e[o]({embeds:[t[i]],components:createButtons(!1),fetchReply:!0,ephemeral:d})).createMessageComponentCollector({filter:t=>t.user.id===e.user.id,componentType:discord_js_1.ComponentType.Button,time:s});r.on("collect",(s=>{switch(s.customId){case"first":i=0;break;case"previous":i--;break;case"next":i++;break;case"last":i=t.length-1}i<0&&(i=t.length-1),i>=t.length&&(i=0),e.editReply({embeds:[t[i]]}),s.deferUpdate()})),r.once("end",(()=>{e.editReply({components:createButtons(!0)})}))}))}const createButtons=e=>[(new discord_js_1.ActionRowBuilder).addComponents((new discord_js_1.ButtonBuilder).setEmoji("⏪").setDisabled(e).setStyle(discord_js_1.ButtonStyle.Secondary).setCustomId("first"),(new discord_js_1.ButtonBuilder).setLabel("Previous").setDisabled(e).setStyle(discord_js_1.ButtonStyle.Primary).setCustomId("previous"),(new discord_js_1.ButtonBuilder).setLabel("Next").setDisabled(e).setStyle(discord_js_1.ButtonStyle.Primary).setCustomId("next"),(new discord_js_1.ButtonBuilder).setEmoji("⏩").setDisabled(e).setStyle(discord_js_1.ButtonStyle.Secondary).setCustomId("last"))];exports.default=paginationEmbed;