"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.starboards=exports.polls=exports.users=exports.guilds=void 0;const tslib_1=require("tslib"),StarboardModel_1=tslib_1.__importDefault(require("../models/StarboardModel")),UserModel_1=tslib_1.__importDefault(require("../models/UserModel")),PollModel_1=tslib_1.__importDefault(require("../models/PollModel")),EconomyModel_1=tslib_1.__importDefault(require("../models/EconomyModel")),GuildModel_1=tslib_1.__importDefault(require("../models/GuildModel"));function guilds(){return{get:e=>tslib_1.__awaiter(this,void 0,void 0,(function*(){let d=yield GuildModel_1.default.findOne({guildId:e});return d||(d=yield GuildModel_1.default.create({guildId:e})),d}))}}function users(){return{economy:()=>({get:({guildId:e,userId:d})=>tslib_1.__awaiter(this,void 0,void 0,(function*(){let t=yield EconomyModel_1.default.findOne({guildId:e,userId:d});return t||(t=yield EconomyModel_1.default.create({guildId:e,userId:d,balance:{bank:0,money:0}})),t})),getAll:e=>tslib_1.__awaiter(this,void 0,void 0,(function*(){return yield EconomyModel_1.default.find({guildId:e})}))}),profile:()=>({get:({guildId:e,userId:d})=>tslib_1.__awaiter(this,void 0,void 0,(function*(){let t=yield UserModel_1.default.findOne({guildId:e,ownerId:d});return t||(t=yield UserModel_1.default.create({guildId:e,ownerId:d})),t})),find:e=>tslib_1.__awaiter(this,void 0,void 0,(function*(){return yield UserModel_1.default.find(e)}))})}}function polls(){return{get:(e,d,t)=>tslib_1.__awaiter(this,void 0,void 0,(function*(){return yield PollModel_1.default.findOne({messageId:e,channelId:d,guildId:t})})),create:e=>tslib_1.__awaiter(this,void 0,void 0,(function*(){return yield PollModel_1.default.create(e)}))}}function starboards(){return{get:(e,d)=>tslib_1.__awaiter(this,void 0,void 0,(function*(){return yield StarboardModel_1.default.findOne({channelId:e,messageId:d})})),create:e=>tslib_1.__awaiter(this,void 0,void 0,(function*(){return yield StarboardModel_1.default.create(e)})),delete:(e,d)=>tslib_1.__awaiter(this,void 0,void 0,(function*(){return yield StarboardModel_1.default.deleteOne({channelId:e,messageId:d})}))}}exports.guilds=guilds,exports.users=users,exports.polls=polls,exports.starboards=starboards;