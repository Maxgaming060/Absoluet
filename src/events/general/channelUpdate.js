"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const tslib_1=require("tslib"),discord_js_1=require("discord.js"),replaceAll_1=tslib_1.__importDefault(require("../../helpers/replaceAll")),Event_1=require("../../structures/Event"),__1=require("../.."),querys_1=require("../../helpers/querys");exports.default=new Event_1.Event("channelUpdate",((e,n)=>tslib_1.__awaiter(void 0,void 0,void 0,(function*(){var t,r;if(n.type===discord_js_1.ChannelType.DM)return;if(e.type===discord_js_1.ChannelType.DM)return;const l=yield(0,querys_1.guilds)().get(e.guildId),i=n.guild.channels.cache.get(null==l?void 0:l.logChannel);if(!i)return;const a=n.name!==e.name,s=n.parentId!==e.parentId;(a||s)&&(yield i.send({embeds:[(0,replaceAll_1.default)(__1.client.messages.Logs.ChannelUpdated,{"{state}":a?"Name":"Category","{channel}":null==n?void 0:n.toString(),"{channel-id}":n.id,"{channel-name}":n.name,"{old-state}":a?e.name:null===(t=e.parent)||void 0===t?void 0:t.toString(),"{new-state}":a?n.name:null===(r=n.parent)||void 0===r?void 0:r.toString()})]}))}))));